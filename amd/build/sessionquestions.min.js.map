{"version":3,"file":"sessionquestions.min.js","sources":["../src/sessionquestions.js"],"sourcesContent":["\"use strict\";\n/* eslint-disable no-unused-vars */ // TODO remove.\n\nimport jQuery from 'jquery';\nimport {get_strings as getStrings} from 'core/str';\nimport Ajax from 'core/ajax';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport Templates from 'core/templates';\nimport Notification from 'core/notification';\n\nlet ACTION = {\n    COPYQUESTION: '[data-action=\"copy_question\"]',\n    DELETEQUESTION: '[data-action=\"delete_question\"]',\n};\n\nlet SERVICES = {\n    COPYQUESTION: 'mod_jqshow_copyquestion',\n    DELETEQUESTION: 'mod_jqshow_deletequestion'\n};\n\nlet REGION = {\n    PANEL: '[data-region=\"questions-panel\"]',\n    LOADING: '[data-region=\"overlay-icon-container\"]',\n    SESSIONQUESTIONS: '[data-region=\"session-questions\"]'\n};\n\nlet TEMPLATES = {\n    LOADING: 'core/overlay_loading',\n    SUCCESS: 'core/notification_success',\n    ERROR: 'core/notification_error',\n    QUESTIONSSELECTED: 'mod_jqshow/createsession/sessionquestions'\n};\n\nlet cmId;\nlet sId;\nlet jqshowId;\n\n/**\n * @constructor\n * @param {String} selector The selector for the page region containing the page.\n */\nfunction SessionQuestions(selector) {\n    this.node = jQuery(selector);\n    sId = this.node.attr('data-sid');\n    cmId = this.node.attr('data-cmid');\n    jqshowId = this.node.attr('data-jqshowid');\n    this.initPanel();\n}\n\n/** @type {jQuery} The jQuery node for the page region. */\nSessionQuestions.prototype.node = null;\n\nSessionQuestions.prototype.initPanel = function() {\n    this.node.find(ACTION.COPYQUESTION).on('click', this.copyQuestion);\n    this.node.find(ACTION.DELETEQUESTION).on('click', this.deleteQuestion);\n};\n\nSessionQuestions.prototype.copyQuestion = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let questionId = jQuery(e.currentTarget).attr('data-questionnid');\n    alert('copyQuestion ' + questionId);\n};\n\nSessionQuestions.prototype.deleteQuestion = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let questionId = jQuery(e.currentTarget).attr('data-questionnid');\n    alert('deleteQuestion ' + questionId);\n};\n\nexport const initSessionQuestions = (selector) => {\n    return new SessionQuestions(selector);\n};\n"],"names":["_interopRequireDefault","obj","__esModule","default","Object","defineProperty","_exports","value","initSessionQuestions","_jquery","_ajax","_modal_factory","_modal_events","_templates","_notification","ACTION","SessionQuestions","selector","this","node","jQuery","attr","initPanel","prototype","find","on","copyQuestion","deleteQuestion","e","preventDefault","stopPropagation","questionId","currentTarget","alert"],"mappings":"4PAS6C,SAAAA,uBAAAC,KAAAA,OAAAA,KAAAA,IAAAC,WAAAD,IAAAE,CAAAA,QAAAF,IAAA,CAThCG,OAAAC,eAAAC,SAAA,aAAA,CAAAC,OAAA,IAAAD,SAAAE,0BAAA,EAGbC,QAAAT,uBAAAS,SAEAC,MAAAV,uBAAAU,OACAC,eAAAX,uBAAAW,gBACAC,cAAAZ,uBAAAY,eACAC,WAAAb,uBAAAa,YACAC,cAAAd,uBAAAc,eAEA,IAAIC,oBACc,gCADdA,sBAEgB,kCA6BpB,SAASC,iBAAiBC,UACtBC,KAAKC,MAAO,EAAAC,QAAMjB,SAACc,UACbC,KAAKC,KAAKE,KAAK,YACdH,KAAKC,KAAKE,KAAK,aACXH,KAAKC,KAAKE,KAAK,iBAC1BH,KAAKI,WACT,CAGAN,iBAAiBO,UAAUJ,KAAO,KAElCH,iBAAiBO,UAAUD,UAAY,WACnCJ,KAAKC,KAAKK,KAAKT,qBAAqBU,GAAG,QAASP,KAAKQ,cACrDR,KAAKC,KAAKK,KAAKT,uBAAuBU,GAAG,QAASP,KAAKS,iBAG3DX,iBAAiBO,UAAUG,aAAe,SAASE,GAC/CA,EAAEC,iBACFD,EAAEE,kBACF,IAAIC,YAAa,EAAAX,QAAAA,SAAOQ,EAAEI,eAAeX,KAAK,oBAC9CY,MAAM,gBAAkBF,aAG5Bf,iBAAiBO,UAAUI,eAAiB,SAASC,GACjDA,EAAEC,iBACFD,EAAEE,kBACF,IAAIC,YAAa,EAAAX,QAAAA,SAAOQ,EAAEI,eAAeX,KAAK,oBAC9CY,MAAM,kBAAoBF,aAK5BzB,SAAAE,qBAFkC,SAACS,UACjC,OAAO,IAAID,iBAAiBC,UAC9B"}