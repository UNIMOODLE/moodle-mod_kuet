define("mod_jqshow/questiontimer",["exports","jquery"],(function(_exports,_jquery){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.initQuestionTimer=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};let REGION_SECONDS='[data-region="seconds"]';function QuestionTimer(selector){this.node=(0,_jquery.default)(selector),this.initTimer()}QuestionTimer.prototype.node=null,QuestionTimer.prototype.timeValue=null,QuestionTimer.prototype.countDown=null,QuestionTimer.prototype.isPaused=!1,QuestionTimer.prototype.timeFinish=new Event("timeFinish"),QuestionTimer.prototype.initTimer=function(){this.timeValue=this.node.find(REGION_SECONDS).html(),this.countDown=setInterval((()=>{this.timeValue<=0?(this.node.find(REGION_SECONDS).html(this.timeValue),clearInterval(this.countDown),dispatchEvent(this.timeFinish)):this.node.find(REGION_SECONDS).html(this.timeValue),this.isPaused||(this.timeValue-=1)}),1e3),addEventListener("endTimer",(()=>{clearInterval(this.countDown)}),{once:!0}),addEventListener("pauseQuestion",(()=>{this.isPaused=!0}),!1),addEventListener("playQuestion",(()=>{this.isPaused=!1}),!1),addEventListener("removeEvents",(()=>{removeEventListener("endTimer",clearInterval(this.countDown),{once:!0})}),{once:!0})};_exports.initQuestionTimer=selector=>new QuestionTimer(selector)}));

//# sourceMappingURL=questiontimer.min.js.map