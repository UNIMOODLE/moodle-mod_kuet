{"version":3,"file":"match.min.js","sources":["../src/match.js"],"sourcesContent":["\"use strict\";\n\nimport jQuery from 'jquery';\nimport MatchConnections from \"mod_jqshow/matchConnections\";\n\n/* eslint-disable no-unused-vars */\nlet cmId;\nlet sId;\nlet questionid;\nlet jqshowId;\nlet jqid;\nlet questionEnd = false;\nlet correctAnswers = null;\nlet showQuestionFeedback = false;\nlet manualMode = false;\n\nlet REGION = {\n    LEFT_OPTION: '[data-action=\"mark-left-option\"]',\n    RIGHT_OPTION: '[data-action=\"mark-right-option\"]',\n};\n\n/**\n * @constructor\n * @param {String} selector\n * @param {Boolean} showquestionfeedback\n * @param {Boolean} manualmode\n * @param {String} jsonresponse\n */\nfunction Match(selector, showquestionfeedback = false, manualmode = false, jsonresponse = '') {\n    this.node = jQuery(selector);\n    sId = this.node.attr('data-sid');\n    cmId = this.node.attr('data-cmid');\n    questionid = this.node.attr('data-questionid');\n    jqshowId = this.node.attr('data-jqshowid');\n    jqid = this.node.attr('data-jqid');\n    showQuestionFeedback = showquestionfeedback;\n    manualMode = manualmode;\n    questionEnd = false;\n    this.initMatch();\n}\n\n/** @type {jQuery} The jQuery node for the page region. */\nMatch.prototype.node = null;\nMatch.prototype.endTimer = new Event('endTimer');\nMatch.prototype.studentQuestionEnd = new Event('studentQuestionEnd');\n\nMatch.prototype.initMatch = function() {\n    this.node.find(REGION.LEFT_OPTION).on('click', this.markLeftOption.bind(this));\n};\n\nMatch.prototype.markLeftOption = function(l) {\n    jQuery(REGION.LEFT_OPTION).addClass('disabled');\n    jQuery(l.currentTarget).removeClass('disabled');\n    this.node.find(REGION.RIGHT_OPTION).on('click', function(r) {\n        let leftSide = jQuery(l.currentTarget).attr('data-stems');\n        let rightSide = jQuery(r.currentTarget).attr('data-stems');\n        MatchConnections.connections(\n            jQuery('.left-side [data-stems=' + leftSide + '] .option-pointer'),\n            {to: '.right-side [data-stems=' + rightSide + '] .option-pointer'}\n        );\n        jQuery(REGION.LEFT_OPTION).removeClass('disabled');\n        jQuery(r.currentTarget).addClass('disabled');\n    });\n};\n\nexport const initMatch = (selector, showquestionfeedback, manualmode, jsonresponse) => {\n    return new Match(selector, showquestionfeedback, manualmode, jsonresponse);\n};"],"names":["_interopRequireDefault","obj","__esModule","default","Object","defineProperty","_exports","value","initMatch","_jquery","_matchConnections","REGION","Match","selector","showquestionfeedback","arguments","length","undefined","manualmode","this","node","jQuery","attr","prototype","endTimer","Event","studentQuestionEnd","find","on","markLeftOption","bind","l","addClass","currentTarget","removeClass","r","leftSide","rightSide","MatchConnections","connections","to","jsonresponse"],"mappings":"2HAG2D,SAAAA,uBAAAC,KAAAA,OAAAA,KAAAA,IAAAC,WAAAD,IAAAE,CAAAA,QAAAF,IAAA,CAH9CG,OAAAC,eAAAC,SAAA,aAAA,CAAAC,OAAA,IAAAD,SAAAE,eAAA,EAEbC,QAAAT,uBAAAS,SACAC,kBAAAV,uBAAAU,mBAQA,IAKIC,mBACa,mCADbA,oBAEc,oCAUlB,SAASC,MAAMC,UAA+E,IAArEC,qBAAoBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAUG,WAAUH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC7DI,KAAKC,MAAO,EAAAC,QAAMlB,SAACU,UACbM,KAAKC,KAAKE,KAAK,YACdH,KAAKC,KAAKE,KAAK,aACTH,KAAKC,KAAKE,KAAK,mBACjBH,KAAKC,KAAKE,KAAK,iBACnBH,KAAKC,KAAKE,KAAK,aACCR,qBACVI,YACC,EACdC,KAAKX,WACT,CAGAI,MAAMW,UAAUH,KAAO,KACvBR,MAAMW,UAAUC,SAAW,IAAIC,MAAM,YACrCb,MAAMW,UAAUG,mBAAqB,IAAID,MAAM,sBAE/Cb,MAAMW,UAAUf,UAAY,WACxBW,KAAKC,KAAKO,KAAKhB,oBAAoBiB,GAAG,QAAST,KAAKU,eAAeC,KAAKX,QAG5EP,MAAMW,UAAUM,eAAiB,SAASE,IACtC,EAAAV,QAAAA,SAAOV,oBAAoBqB,SAAS,aACpC,EAAAX,QAAAA,SAAOU,EAAEE,eAAeC,YAAY,YACpCf,KAAKC,KAAKO,KAAKhB,qBAAqBiB,GAAG,SAAS,SAASO,GACrD,IAAIC,UAAW,EAAAf,QAAAA,SAAOU,EAAEE,eAAeX,KAAK,cACxCe,WAAY,EAAAhB,QAAAA,SAAOc,EAAEF,eAAeX,KAAK,cAC7CgB,kBAAAA,QAAiBC,aACb,EAAAlB,QAAMlB,SAAC,0BAA4BiC,SAAW,qBAC9C,CAACI,GAAI,2BAA6BH,UAAY,uBAElD,EAAAhB,QAAAA,SAAOV,oBAAoBuB,YAAY,aACvC,EAAAb,QAAAA,SAAOc,EAAEF,eAAeD,SAAS,WACrC,KAKF1B,SAAAE,UAFuB,SAACK,SAAUC,qBAAsBI,WAAYuB,cAClE,OAAO,IAAI7B,MAAMC,SAAUC,qBAAsBI,WAAYuB,cAC/D"}