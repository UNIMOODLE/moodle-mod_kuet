{"version":3,"file":"match.min.js","sources":["../src/match.js"],"sourcesContent":["\"use strict\";\n/* eslint-disable no-unused-vars */\n\nimport jQuery from 'jquery';\nimport Ajax from 'core/ajax';\nimport Templates from 'core/templates';\n\nlet ACTION = {\n    SEND_RESPONSE: '[data-action=\"send-match\"]',\n};\n\nlet REGION = {\n    ROOT: '[data-region=\"question-content\"]',\n    LOADING: '[data-region=\"overlay-icon-container\"]',\n    LEFT_OPTION: '#dragOption',\n    RIGHT_OPTION: '#dropOption',\n    CONTAINER_ANSWERS: '#dragQuestion',\n    CANVAS: '#canvas',\n    CANVASTEMP: '#canvasTemp',\n    LEFT_OPTION_SELECTOR: '#dragOption .option',\n    LEFT_OPTION_CLICKABLE: '#dragOption .option.option-left .content-option',\n    RIGHT_OPTION_CLICKABLE: '#dropOption .option.option-right .content-option',\n    OPTION: '.option',\n    CLEARPATH: '#dropOption .drop-element',\n    POINTER: '.option-pointer',\n    NEXT: '[data-action=\"next-question\"]',\n    TIMER: '[data-region=\"question-timer\"]',\n    SECONDS: '[data-region=\"seconds\"]',\n    CONTENTFEEDBACKS: '[data-region=\"containt-feedbacks\"]',\n    FEEDBACK: '[data-region=\"statement-feedback\"]',\n    FEEDBACKANSWER: '[data-region=\"answer-feedback\"]',\n    FEEDBACKBACGROUND: '[data-region=\"feedback-background\"]',\n};\n\nlet SERVICES = {\n    REPLY: 'mod_jqshow_match'\n};\n\nlet TEMPLATES = {\n    LOADING: 'core/overlay_loading'\n};\n\nlet cmId;\nlet sId;\nlet questionid;\nlet jqshowId;\nlet jqid;\nlet questionEnd = false;\nlet correctAnswers = null;\nlet showQuestionFeedback = false;\nlet manualMode = false;\nlet startPoint;\nlet color;\nlet toucheX;\nlet toucheY;\nlet linkList = [];\nlet linkCorrection = [];\n\n/** @type {jQuery} The jQuery node for the page region. */\nMatch.prototype.node = null;\nMatch.prototype.endTimer = new Event('endTimer');\nMatch.prototype.studentQuestionEnd = new Event('studentQuestionEnd');\n\n/**\n * @constructor\n * @param {String} selector\n * @param {Boolean} showquestionfeedback\n * @param {Boolean} manualmode\n * @param {String} jsonresponse\n */\nfunction Match(selector, showquestionfeedback = false, manualmode = false, jsonresponse = '') {\n    this.node = jQuery(selector);\n    sId = this.node.attr('data-sid');\n    cmId = this.node.attr('data-cmid');\n    questionid = this.node.attr('data-questionid');\n    jqshowId = this.node.attr('data-jqshowid');\n    jqid = this.node.attr('data-jqid');\n    showQuestionFeedback = showquestionfeedback;\n    manualMode = manualmode;\n    questionEnd = false;\n    if (jsonresponse !== '') {\n        this.answered(jsonresponse);\n    }\n    this.initMatch();\n    this.createLinkCorrection(); // TODO seems unnecessary, check.\n}\n\nMatch.prototype.answered = function(jsonresponse) {\n    linkList = JSON.parse(jsonresponse);\n    jQuery(ACTION.SEND_RESPONSE).addClass('d-none');\n    jQuery(REGION.NEXT).removeClass('d-none');\n};\n\nMatch.prototype.initMatch = function() {\n    let height = jQuery(REGION.LEFT_OPTION).height();\n    jQuery(REGION.CANVAS).attr('height', height);\n    jQuery(REGION.CANVAS).attr('width', jQuery(REGION.CANVAS).width());\n\n    jQuery(REGION.CANVASTEMP).attr('width', jQuery(REGION.CANVASTEMP).width());\n    jQuery(REGION.CANVASTEMP).attr('height', height);\n    jQuery(REGION.CONTAINER_ANSWERS).bind('dragover', function(){\n        let top = window.event.pageY,\n            left = window.event.pageX;\n        Match.prototype.drawLinkTemp(startPoint, {top, left});\n    });\n    jQuery(REGION.LEFT_OPTION).find(REGION.OPTION).toArray().forEach(dragEl => this.addEventsDragAndDrop(dragEl));\n    jQuery(REGION.RIGHT_OPTION).find(REGION.OPTION).toArray().forEach(dropEl => this.addTargetEvents(dropEl));\n    Match.prototype.drawLinks();\n    jQuery(REGION.CLEARPATH).on('click', Match.prototype.clearPath.bind(this));\n    jQuery(ACTION.SEND_RESPONSE).on('click', Match.prototype.sendResponse);\n    jQuery(REGION.LEFT_OPTION_CLICKABLE).on('click', Match.prototype.leftOptionSelected.bind(this));\n    Match.prototype.initEvents();\n};\n\nMatch.prototype.initEvents = function() {\n    addEventListener('timeFinish', () => {\n        Match.prototype.sendResponse();\n    }, {once: true});\n    addEventListener('teacherQuestionEnd_' + jqid, (e) => {\n        if (questionEnd !== true) {\n            Match.prototype.sendResponse();\n        }\n        e.detail.statistics.forEach((statistic) => {\n            jQuery('[data-answerid=\"' + statistic.answerid + '\"] .numberofreplies').html(statistic.numberofreplies);\n        });\n    }, {once: true});\n    addEventListener('pauseQuestion_' + jqid, () => {\n        Match.prototype.pauseQuestion();\n    }, false);\n    addEventListener('playQuestion_' + jqid, () => {\n        Match.prototype.playQuestion();\n    }, false);\n    addEventListener('showAnswers_' + jqid, () => {\n        Match.prototype.showAnswers();\n    }, false);\n    addEventListener('hideAnswers_' + jqid, () => {\n        Match.prototype.hideAnswers();\n    }, false);\n    addEventListener('showStatistics_' + jqid, () => {\n        Match.prototype.showStatistics();\n    }, false);\n    addEventListener('hideStatistics_' + jqid, () => {\n        Match.prototype.hideStatistics();\n    }, false);\n    addEventListener('showFeedback_' + jqid, () => {\n        Match.prototype.showFeedback();\n    }, false);\n    addEventListener('hideFeedback_' + jqid, () => {\n        Match.prototype.hideFeedback();\n    }, false);\n    window.onbeforeunload = function() {\n        if (jQuery(REGION.SECONDS).length > 0 && questionEnd === false) {\n            Match.prototype.sendResponse();\n            return 'Because the question is overdue and an attempt has been made to reload the page,' +\n                ' the question has remained unanswered.';\n        }\n    };\n};\n\nMatch.prototype.createLinkCorrection = function() { // TODO is unnecessary for debugging.\n    jQuery.each(jQuery(REGION.LEFT_OPTION_SELECTOR), function(index, item) {\n        let dragId = jQuery(item).data('stems') + '-draggable';\n        let steam = Match.prototype.baseConvert(jQuery(item).data('stems'), 2, 16);\n        let dropId = Match.prototype.baseConvert(steam, 10, 26) + '-draggable';\n        linkCorrection.push({dragId: dragId, dropId: dropId});\n    });\n};\n\nMatch.prototype.getRandomColor = function(position) {\n    let colorArray = ['#FF6633', '#FFB399', '#FF33FF', '#FF9999', '#00B3E6',\n                      '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',\n                      '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A',\n                      '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',\n                      '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC',\n                      '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',\n                      '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680',\n                      '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',\n                      '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3',\n                      '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];\n    return colorArray[position];\n};\n\nMatch.prototype.sendResponse = function() {\n    Templates.render(TEMPLATES.LOADING, {visible: true}).done(function(html) {\n        jQuery(REGION.ROOT).append(html);\n        dispatchEvent(Match.prototype.endTimer);\n        let timeLeft = parseInt(jQuery(REGION.SECONDS).text());\n        let result = 3; // No response\n        let corrects = 0;\n        let fails = 0;\n        linkList.forEach(userR =>{\n            if (userR.stemDragId === userR.stemDropId) {\n                userR.color = \"green\";\n                corrects++;\n            } else {\n                userR.color = \"red\";\n                fails++;\n            }\n        });\n        if (corrects !== 0) {\n            result = 2; // Partially\n        }\n        if (jQuery(REGION.LEFT_OPTION_SELECTOR).length === corrects) {\n            result = 1; // Correct\n        }\n        if (jQuery(REGION.LEFT_OPTION_SELECTOR).length === fails) {\n            result = 0; // Failure\n        }\n        Match.prototype.drawLinks();\n\n        let request = {\n            methodname: SERVICES.REPLY,\n            args: {\n                jsonresponse: JSON.stringify(linkList),\n                result: result,\n                sessionid: sId,\n                jqshowid: jqshowId,\n                cmid: cmId,\n                questionid: questionid,\n                jqid: jqid,\n                timeleft: timeLeft || 0,\n                preview: false\n            }\n        };\n        Ajax.call([request])[0].done(function(response) {\n            if (response.reply_status === true) {\n                // TODO show feedbacks.\n                jQuery(ACTION.SEND_RESPONSE).addClass('d-none');\n                jQuery(REGION.NEXT).removeClass('d-none');\n                dispatchEvent(Match.prototype.studentQuestionEnd);\n            } else {\n                alert('error');\n            }\n            jQuery(REGION.LOADING).remove();\n        });\n    });\n};\n\n/* Add event */\nMatch.prototype.addEventsDragAndDrop = function(el) {\n    // TODO clicks.\n    el.addEventListener('dragstart', Match.prototype.onDragStart, false);\n    el.addEventListener('dragend', Match.prototype.onDragEnd, false);\n    el.addEventListener('touchstart', Match.prototype.touchStart, false);\n    el.addEventListener('touchmove', Match.prototype.touchMove, false);\n    el.addEventListener('touchend', Match.prototype.touchEnd, false);\n};\n\nMatch.prototype.addTargetEvents = function(target) {\n    target.addEventListener('dragover', Match.prototype.onDragOver, false);\n    target.addEventListener('drop', Match.prototype.onDrop, false);\n};\n\n/* DRAG AND DROP */\nMatch.prototype.onDragStart = function(event) {\n    event\n        .dataTransfer\n        .setData('text/plain', event.target.id);\n    startPoint = event.target.id;\n    // eslint-disable-next-line no-console\n    console.log(startPoint);\n    let options = document.querySelectorAll(REGION.LEFT_OPTION_SELECTOR);\n    color = Match.prototype.getRandomColor(Array.from(options).indexOf(event.currentTarget));\n};\n\nMatch.prototype.onDragOver = function(event) {\n    Match.prototype.clearPathTemp();\n    event.preventDefault();\n};\n\nMatch.prototype.onDragEnd = function(event) {\n    Match.prototype.clearPathTemp();\n    event.preventDefault();\n};\n\nMatch.prototype.onDrop = function(event) {\n    const dragId = event\n        .dataTransfer\n        .getData('text');\n\n    const dropId = jQuery(event.currentTarget).find(REGION.POINTER).attr('id');\n    Match.prototype.Drop(dragId, dropId);\n};\n\nMatch.prototype.Drop = function(dragId, dropId){\n    let deselected = linkList.filter(obj => {\n        return obj.dragId === dragId || obj.dropId === dropId;\n    });\n    if (deselected.length) {\n        deselected.forEach(x => {\n            let selectroDropId = jQuery(\"#\" + x.dropId);\n            selectroDropId.find(\"i\").css('font-weight', '400');\n            selectroDropId.find(\"i\").css('color', '#5a57ff');\n            selectroDropId.find(\"i\").removeClass('linked');\n            selectroDropId.find(\"i\").css('font-weight', '400');\n            selectroDropId.find(\"i\").css('color', '#5a57ff');\n        });\n    }\n\n    linkList = linkList.filter(obj => {\n        return obj.dragId !== dragId;\n    });\n    linkList = linkList.filter(obj => {\n        return obj.dropId !== dropId;\n    });\n\n    let stemDragId = Match.prototype.baseConvert(jQuery('#' + dragId).data('forstems'), 2, 16);\n    let stemDropId = Match.prototype.baseConvert(jQuery('#' + dropId).data('forstems'), 26, 10);\n\n    linkList.push({dragId, dropId, color, stemDragId, stemDropId});\n    Match.prototype.drawLinks();\n    Match.prototype.clearPathTemp();\n};\n\nMatch.prototype.baseConvert = function(number, frombase, tobase) {\n    // eslint-disable-next-line no-bitwise\n    return parseInt(number + '', frombase | 0).toString(tobase | 0);\n};\n\n/* TOUCHE DEVICE */\nMatch.prototype.touchStart = function(e) {\n    if (e.target.id === undefined || e.target.id === '') {\n        if (jQuery(e.target).parent().attr('id') !== undefined) {\n            startPoint = jQuery(e.target).parent().attr('id');\n        } else {\n            startPoint = jQuery(e.target).closest('.option-left').find(\".drag-element\").first().attr('id');\n        }\n    }\n\n    let options = document.querySelectorAll(REGION.LEFT_OPTION_SELECTOR);\n    color = Match.prototype.getRandomColor(Array.from(options).indexOf(e.currentTarget));\n};\n\nMatch.prototype.touchMove = function(e) {\n    e.preventDefault();\n    let top = toucheY = e.touches[0].pageY,\n        left = toucheX = e.touches[0].pageX;\n    Match.prototype.drawLinkTemp(startPoint, {top, left});\n};\n\nMatch.prototype.touchEnd = function(e) {\n    jQuery(REGION.RIGHT_OPTION).find(REGION.OPTION).toArray().forEach(target => {\n        // eslint-disable-next-line no-console\n        console.log(target);\n        let box2 = target.getBoundingClientRect(),\n            x = box2.left,\n            y = box2.top,\n            h = target.offsetHeight,\n            w = target.offsetWidth,\n            b = y + h,\n            r = x + w;\n\n        if (toucheX > x && toucheX < r && toucheY > y && toucheY < b) {\n            let dropId;\n            if (target.id === undefined || target.id === '' || target.id === 'dropOption') {\n                if (jQuery(target).parent().attr('id') !== undefined && jQuery(target).parent().attr('id') !== 'dropOption') {\n                    dropId = jQuery(target).parent().attr('id');\n                } else {\n                    dropId = jQuery(target).closest('.option-right').find(\".drop-element\").first().attr('id');\n                }\n            } else {\n                dropId = target.id;\n            }\n            Match.prototype.Drop(startPoint, dropId);\n        } else {\n            return false;\n        }\n    });\n    Match.prototype.clearPathTemp();\n    e.preventDefault();\n};\n\n/* Draw final line */\nMatch.prototype.drawLinks = function() {\n    let canvas = jQuery(REGION.CANVAS).get(0);\n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    linkList.forEach(link => Match.prototype.drawLink(link.dragId, link.dropId, link.color));\n};\n\nMatch.prototype.drawLink = function(obj1, obj2, pColor) {\n    let canvas = jQuery(REGION.CANVAS).get(0);\n    let ctx = canvas.getContext('2d');\n\n    let $obj1 = jQuery(\"#\" + obj1);\n    let $obj2 = jQuery(\"#\" + obj2);\n    let parent = jQuery(REGION.CONTAINER_ANSWERS).offset();\n    let p1 = $obj1.offset();\n    let w1 = $obj1.width();\n    let h1 = $obj1.height();\n    let p2 = $obj2.offset();\n    let w2 = $obj2.width();\n    let h2 = $obj2.height();\n    let wc = jQuery(REGION.CANVAS).width();\n    ctx.beginPath();\n    ctx.strokeStyle = pColor ? pColor : color;\n    ctx.lineWidth = 3;\n    ctx.moveTo(0, p1.top - parent.top + (h1 / 2) - 20 - 2);\n    ctx.bezierCurveTo(wc / 2, p1.top - parent.top + (h1 / 2) - 20 - 2,\n        wc / 2, p2.top - parent.top + (h2 / 2) - 20 - 2,\n        wc - 4, p2.top - parent.top + (h2 / 2) - 20 - 2);\n    ctx.stroke();\n\n    $obj1.children().css('color', pColor ? pColor : color);\n    $obj1.children().css('font-weight', '900');\n    $obj2.children().css('color', pColor ? pColor : color);\n    $obj2.children().css('font-weight', '900');\n    $obj2.children().addClass('linked');\n};\n\nMatch.prototype.clearPath = function(event) {\n    let ident = event.currentTarget.id;\n    linkList = linkList.filter(obj => {\n        return obj.dropId !== ident;\n    });\n    let dragQuestionObject = jQuery(REGION.CONTAINER_ANSWERS);\n    dragQuestionObject.find(\"i\").removeClass('linked');\n    dragQuestionObject.find(\"i\").css('font-weight', '400');\n    dragQuestionObject.find(\"i\").css('color', '#5a57ff');\n    Match.prototype.drawLinks();\n};\n\n/* Draw path mouse line */\nMatch.prototype.drawLinkTemp = function(obj1, coordPt) {\n    let canvas = jQuery(REGION.CANVASTEMP).get(0);\n    let ctx = canvas.getContext('2d');\n\n    let $obj1 = jQuery(\"#\" + obj1);\n    let parent = jQuery(REGION.CONTAINER_ANSWERS).offset();\n    let p1 = $obj1.offset();\n    let w1 = $obj1.width();\n    let h1 = $obj1.height();\n    let p2 = coordPt;\n    let c = jQuery(REGION.CANVASTEMP).offset();\n\n    ctx.beginPath();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = 3;\n    ctx.moveTo(0, p1.top - parent.top + (h1 / 2) - 20 - 2);\n\n    ctx.bezierCurveTo((p2.left - c.left) / 2, p1.top - parent.top - 19 - 2,\n        (p2.left - c.left) / 2,p2.top - parent.top - 19 - 2,\n        p2.left - c.left, p2.top - parent.top - 19 - 2);\n    Match.prototype.clearPathTemp();\n    ctx.stroke();\n};\n\nMatch.prototype.clearPathTemp = function() {\n    let canvas = jQuery(REGION.CANVASTEMP).get(0);\n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n};\n\n/* CLICKS */\nMatch.prototype.leftOptionSelected = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    jQuery.each(jQuery(REGION.LEFT_OPTION_CLICKABLE), function(index, item) {\n        if (e.target !== item) {\n            jQuery(item).parent().addClass('disabled');\n        } else {\n            jQuery(item).parents('.option').first().find('.option-pointer').addClass('disabled');\n            let options = document.querySelectorAll(REGION.LEFT_OPTION_SELECTOR);\n            color = Match.prototype.getRandomColor(Array.from(options).indexOf(jQuery(item).parents('.option').first().get(0)));\n        }\n    });\n    jQuery.each(jQuery(REGION.CLEARPATH), function(index, item) {\n        jQuery(item).addClass('disabled');\n    });\n    jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n        jQuery(item).css({'pointer-events': 'inherit'});\n    });\n    jQuery(REGION.RIGHT_OPTION_CLICKABLE).on('click', Match.prototype.rightOptionSelected.bind(this));\n};\n\nMatch.prototype.rightOptionSelected = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n        if (e.target === item) {\n            let dragId = jQuery('.option-left:not(.disabled) .drag-element').attr('id');\n            let dropId = jQuery(item).parents('.option-right').first().find('.drop-element').attr('id');\n            jQuery(dropId).click();\n            Match.prototype.Drop(dragId, dropId);\n            jQuery('.option-left').removeClass('disabled');\n            jQuery(REGION.RIGHT_OPTION_CLICKABLE).off('click');\n            jQuery.each(jQuery(REGION.LEFT_OPTION_CLICKABLE), function(index, item) {\n                jQuery(item).css({'pointer-events': 'none'});\n            });\n            jQuery.each(jQuery(REGION.CLEARPATH), function(index, item) {\n                jQuery(item).removeClass('disabled');\n            });\n        }\n    });\n};\n\n/* EVENTS */ // TODO adjust\nMatch.prototype.pauseQuestion = function() {\n    dispatchEvent(new Event('pauseQuestion'));\n    jQuery(REGION.TIMER).css('z-index', 3);\n    jQuery(REGION.FEEDBACKBACGROUND).css('display', 'block');\n    jQuery(ACTION.REPLY).css('pointer-events', 'none');\n};\n\nMatch.prototype.playQuestion = function() {\n    dispatchEvent(new Event('playQuestion'));\n    jQuery(REGION.TIMER).css('z-index', 1);\n    jQuery(REGION.FEEDBACKBACGROUND).css('display', 'none');\n    jQuery(ACTION.REPLY).css('pointer-events', 'auto');\n};\n\nMatch.prototype.showAnswers = function() {\n    if (correctAnswers !== null && questionEnd === true) {\n        jQuery('.feedback-icon').css('display', 'flex');\n        let correctAnswersSplit = correctAnswers.split(',');\n        correctAnswersSplit.forEach((answ) => {\n            jQuery('[data-answerid=\"' + answ + '\"] .incorrect').css('display', 'none');\n        });\n    }\n};\n\nMatch.prototype.hideAnswers = function() {\n    if (questionEnd === true) {\n        jQuery('.feedback-icon').css('display', 'none');\n    }\n};\n\nMatch.prototype.showStatistics = function() {\n    if (questionEnd === true) {\n        jQuery('.statistics-icon').css('display', 'flex');\n    }\n};\n\nMatch.prototype.hideStatistics = function() {\n    if (questionEnd === true) {\n        jQuery('.statistics-icon').css('display', 'none');\n    }\n};\n\nMatch.prototype.showFeedback = function() {\n    if (questionEnd === true) {\n        jQuery(REGION.CONTENTFEEDBACKS).css({'display': 'block', 'z-index': 3});\n    }\n};\n\nMatch.prototype.hideFeedback = function() {\n    if (questionEnd === true) {\n        jQuery(REGION.CONTENTFEEDBACKS).css({'display': 'none', 'z-index': 0});\n    }\n};\n\n\nexport const initMatch = (selector, showquestionfeedback, manualmode, jsonresponse) => {\n    return new Match(selector, showquestionfeedback, manualmode, jsonresponse);\n};"],"names":["_interopRequireDefault","obj","__esModule","default","Object","defineProperty","_exports","value","initMatch","_jquery","_ajax","_templates","cmId","sId","questionid","jqshowId","jqid","startPoint","color","toucheX","toucheY","ACTION","SEND_RESPONSE","REGION","SERVICES","TEMPLATES","questionEnd","linkList","linkCorrection","Match","selector","showquestionfeedback","arguments","length","undefined","manualmode","jsonresponse","this","node","jQuery","attr","answered","createLinkCorrection","prototype","endTimer","Event","studentQuestionEnd","JSON","parse","addClass","removeClass","_this","height","width","bind","top","window","event","pageY","left","pageX","drawLinkTemp","find","toArray","forEach","dragEl","addEventsDragAndDrop","dropEl","addTargetEvents","drawLinks","on","clearPath","sendResponse","leftOptionSelected","initEvents","addEventListener","once","e","detail","statistics","statistic","answerid","html","numberofreplies","pauseQuestion","playQuestion","showAnswers","hideAnswers","showStatistics","hideStatistics","showFeedback","hideFeedback","onbeforeunload","each","index","item","dragId","data","steam","baseConvert","dropId","push","getRandomColor","position","Templates","render","visible","done","append","dispatchEvent","timeLeft","parseInt","text","result","corrects","fails","userR","stemDragId","stemDropId","request","methodname","args","stringify","sessionid","jqshowid","cmid","timeleft","preview","Ajax","call","response","reply_status","alert","remove","el","onDragStart","onDragEnd","touchStart","touchMove","touchEnd","target","onDragOver","onDrop","dataTransfer","setData","id","console","log","options","document","querySelectorAll","Array","from","indexOf","currentTarget","clearPathTemp","preventDefault","getData","Drop","deselected","filter","x","selectroDropId","css","number","frombase","tobase","toString","parent","closest","first","touches","box2","getBoundingClientRect","y","h","offsetHeight","w","offsetWidth","canvas","get","getContext","clearRect","link","drawLink","obj1","obj2","pColor","ctx","$obj1","$obj2","offset","p1","h1","p2","h2","wc","beginPath","strokeStyle","lineWidth","moveTo","bezierCurveTo","stroke","children","ident","dragQuestionObject","coordPt","c","stopPropagation","parents","rightOptionSelected","click","off","REPLY","display"],"mappings":"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"}