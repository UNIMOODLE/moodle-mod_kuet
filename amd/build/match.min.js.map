{"version":3,"file":"match.min.js","sources":["../src/match.js"],"sourcesContent":["\"use strict\";\n/* eslint-disable no-unused-vars */\n\nimport jQuery from 'jquery';\nimport Ajax from 'core/ajax';\nimport Templates from 'core/templates';\nimport mEvent from 'core/event';\n\nlet ACTION = {\n    SEND_RESPONSE: '[data-action=\"send-match\"]',\n    SELECTOPTION: '[data-action=\"mark-left-option-mobile\"]'\n};\n\nlet REGION = {\n    ROOT: '[data-region=\"question-content\"]',\n    MATCH: '[data-region=\"match\"]',\n    LOADING: '[data-region=\"overlay-icon-container\"]',\n    LEFT_OPTION: '#dragOption',\n    RIGHT_OPTION: '#dropOption',\n    CONTAINER_ANSWERS: '#dragQuestion',\n    CONTAINER_ANSWERS_MOBILE: '#selectQuestion',\n    CANVAS: '#canvas',\n    CANVASTEMP: '#canvasTemp',\n    LEFT_OPTION_SELECTOR: '#dragOption .option',\n    LEFT_OPTION_CLICKABLE: '#dragOption .option.option-left .content-option',\n    RIGHT_OPTION_CLICKABLE: '#dropOption .option.option-right .content-option',\n    OPTION: '.option',\n    CLEARPATH: '#dropOption .drop-element',\n    POINTER: '.option-pointer',\n    NEXT: '[data-action=\"next-question\"]',\n    TIMER: '[data-region=\"question-timer\"]',\n    SECONDS: '[data-region=\"seconds\"]',\n    CONTENTFEEDBACKS: '[data-region=\"containt-feedbacks\"]',\n    FEEDBACK: '[data-region=\"statement-feedback\"]',\n    FEEDBACKANSWER: '[data-region=\"answer-feedback\"]',\n    FEEDBACKBACGROUND: '[data-region=\"feedback-background\"]',\n};\n\nlet SERVICES = {\n    REPLY: 'mod_jqshow_match'\n};\n\nlet TEMPLATES = {\n    LOADING: 'core/overlay_loading'\n};\n\nlet cmId;\nlet sId;\nlet questionid;\nlet jqshowId;\nlet jqid;\nlet questionEnd = false;\nlet showQuestionFeedback = false;\nlet manualMode = false;\nlet startPoint;\nlet color;\nlet toucheX;\nlet toucheY;\nlet linkList = [];\nlet linkCorrection = [];\nlet showingAnswers = false;\nlet showingFeedback = false;\n\n/** @type {jQuery} The jQuery node for the page region. */\nMatch.prototype.node = null;\nMatch.prototype.endTimer = new Event('endTimer');\nMatch.prototype.studentQuestionEnd = new Event('studentQuestionEnd');\n\n/**\n * @constructor\n * @param {String} selector\n * @param {Boolean} showquestionfeedback\n * @param {Boolean} manualmode\n * @param {String} jsonresponse\n */\nfunction Match(selector, showquestionfeedback = false, manualmode = false, jsonresponse = '') {\n    this.node = jQuery(selector);\n    sId = this.node.attr('data-sid');\n    cmId = this.node.attr('data-cmid');\n    questionid = this.node.attr('data-questionid');\n    jqshowId = this.node.attr('data-jqshowid');\n    jqid = this.node.attr('data-jqid');\n    showQuestionFeedback = showquestionfeedback;\n    manualMode = manualmode;\n    questionEnd = false;\n    linkList = [];\n    this.createLinkCorrection();\n    if (jsonresponse !== '') {\n        this.answered(JSON.parse(atob(jsonresponse)));\n        if (manualMode === false || jQuery('.modal-body').length) {\n            questionEnd = true;\n            if (showQuestionFeedback === true) {\n                this.showFeedback();\n            }\n            this.showAnswers();\n        }\n    }\n    setTimeout(() => { // For modal preview, is executed before the DOM is rendered.\n        this.initMatch();\n    }, 500);\n}\n\nMatch.prototype.answered = function(jsonresponse) {\n    Match.prototype.allDisabled();\n    linkList = jsonresponse;\n    Match.prototype.drawResponse();\n    questionEnd = true;\n    jQuery(ACTION.SEND_RESPONSE).addClass('d-none');\n    jQuery(REGION.FEEDBACKBACGROUND).css('display', 'block');\n    jQuery(REGION.CONTAINER_ANSWERS).css('z-index', 3);\n    jQuery(REGION.CONTAINER_ANSWERS_MOBILE).css('z-index', 3);\n    if (manualMode === false) {\n        jQuery(REGION.NEXT).removeClass('d-none');\n    }\n    mEvent.notifyFilterContentUpdated(document.querySelector(REGION.CONTENTFEEDBACKS));\n};\n\nMatch.prototype.initMatch = function() {\n    Match.prototype.normalizeCanvas();\n    jQuery(REGION.CONTAINER_ANSWERS).bind('dragover', function(){\n        let top = window.event.pageY,\n            left = window.event.pageX;\n        Match.prototype.drawLinkTemp(startPoint, {top, left});\n    });\n    jQuery(REGION.LEFT_OPTION).find(REGION.OPTION).toArray().forEach(dragEl => this.addEventsDragAndDrop(dragEl));\n    jQuery(REGION.RIGHT_OPTION).find(REGION.OPTION).toArray().forEach(dropEl => this.addTargetEvents(dropEl));\n    Match.prototype.drawLinks();\n    jQuery(REGION.CLEARPATH).on('click touchend', Match.prototype.clearPath.bind(this));\n    jQuery(REGION.LEFT_OPTION_CLICKABLE).on('click touchend', Match.prototype.leftOptionSelected.bind(this));\n    jQuery(ACTION.SEND_RESPONSE).off('click');\n    jQuery(ACTION.SEND_RESPONSE).on('click', Match.prototype.sendResponse);\n\n    // Mobile.\n    jQuery(ACTION.SELECTOPTION).on('change', Match.prototype.OptionSelected.bind(this));\n    jQuery(window).on('resize', function() {\n        Match.prototype.normalizeCanvas();\n        if ((manualMode === false || jQuery('.modal-body').length) && questionEnd === true) {\n            Match.prototype.showAnswers();\n        } else {\n            Match.prototype.drawLinks();\n            Match.prototype.drawSelects();\n        }\n    });\n    Match.prototype.initEvents();\n};\n\nMatch.prototype.normalizeCanvas = function() {\n    let heightLeft = jQuery(REGION.LEFT_OPTION).height();\n    let heightRight = jQuery(REGION.RIGHT_OPTION).height();\n    let canvasHeight = heightLeft > heightRight ? heightLeft : heightRight;\n    jQuery(REGION.CANVAS).attr('height', canvasHeight);\n    jQuery(REGION.CANVAS).attr('width', jQuery(REGION.CANVAS).width());\n    jQuery(REGION.CANVASTEMP).attr('width', jQuery(REGION.CANVASTEMP).width());\n    jQuery(REGION.CANVASTEMP).attr('height', canvasHeight);\n};\n\nMatch.prototype.initEvents = function() {\n    addEventListener('timeFinish', Match.prototype.sendResponse, {once: true});\n    if (manualMode !== false) {\n        addEventListener('alreadyAnswered_' + jqid, (ev) => {\n            let userid =  jQuery('[data-region=\"student-canvas\"]').data('userid');\n            if (userid != ev.detail.userid) {\n                jQuery('[data-region=\"group-message\"]').css({'z-index': 3, 'padding': '15px'});\n                jQuery('[data-region=\"group-message\"]').show();\n            }\n            if (questionEnd !== true) {\n                Match.prototype.sendResponse();\n            }\n        }, {once: true});\n        addEventListener('teacherQuestionEnd_' + jqid, (e) => {\n            if (questionEnd !== true) {\n                Match.prototype.sendResponse();\n            }\n            e.detail.statistics.forEach((statistic) => {\n                jQuery('#statistics .correct').attr('aria-valuenow', statistic.correct)\n                    .width(statistic.correct + '%').html(statistic.correct + '%');\n                jQuery('#statistics .failure').attr('aria-valuenow', statistic.failure)\n                    .width(statistic.failure + '%').html(statistic.failure + '%');\n                jQuery('#statistics .invalid').attr('aria-valuenow', statistic.invalid)\n                    .width(statistic.invalid + '%').html(statistic.invalid + '%');\n                jQuery('#statistics .noresponse').attr('aria-valuenow', statistic.noresponse)\n                    .width(statistic.noresponse + '%').html(statistic.noresponse + '%');\n                jQuery('#statistics .partially').attr('aria-valuenow', statistic.partially)\n                    .width(statistic.partially + '%').html(statistic.partially + '%');\n            });\n        }, {once: true});\n        addEventListener('pauseQuestion_' + jqid, () => {\n            Match.prototype.pauseQuestion();\n        }, false);\n        addEventListener('playQuestion_' + jqid, () => {\n            Match.prototype.playQuestion();\n        }, false);\n        addEventListener('showAnswers_' + jqid, () => {\n            Match.prototype.showAnswers();\n        }, false);\n        addEventListener('hideAnswers_' + jqid, () => {\n            Match.prototype.hideAnswers();\n        }, false);\n        addEventListener('showStatistics_' + jqid, () => {\n            Match.prototype.showStatistics();\n        }, false);\n        addEventListener('hideStatistics_' + jqid, () => {\n            Match.prototype.hideStatistics();\n        }, false);\n        addEventListener('showFeedback_' + jqid, () => {\n            Match.prototype.showFeedback();\n        }, false);\n        addEventListener('hideFeedback_' + jqid, () => {\n            Match.prototype.hideFeedback();\n        }, false);\n        addEventListener('removeEvents', () => {\n            Match.prototype.removeEvents();\n        }, {once: true});\n    }\n\n    window.onbeforeunload = function() {\n        if (jQuery(REGION.SECONDS).length > 0 && questionEnd === false) {\n            Match.prototype.sendResponse();\n            return 'Because the question is overdue and an attempt has been made to reload the page,' +\n                ' the question has remained unanswered.';\n        }\n    };\n};\n\nMatch.prototype.removeEvents = function() {\n    removeEventListener('timeFinish', () => Match.prototype.sendResponse, {once: true});\n    if (manualMode !== false) {\n        removeEventListener('alreadyAnswered_' + jqid, (ev) => {\n            let userid =  jQuery('[data-region=\"student-canvas\"]').data('userid');\n            if (userid != ev.detail.userid) {\n                jQuery('[data-region=\"group-message\"]').css({'z-index': 3, 'padding': '15px'});\n                jQuery('[data-region=\"group-message\"]').show();\n            }\n            if (questionEnd !== true) {\n                Match.prototype.sendResponse();\n            }\n        }, {once: true});\n        removeEventListener('teacherQuestionEnd_' + jqid, (e) => {\n            if (questionEnd !== true) {\n                Match.prototype.sendResponse();\n            }\n            e.detail.statistics.forEach((statistic) => {\n                jQuery('#statistics .correct').attr('aria-valuenow', statistic.correct)\n                    .width(statistic.correct + '%').html(statistic.correct + '%');\n                jQuery('#statistics .failure').attr('aria-valuenow', statistic.failure)\n                    .width(statistic.failure + '%').html(statistic.failure + '%');\n                jQuery('#statistics .invalid').attr('aria-valuenow', statistic.invalid)\n                    .width(statistic.invalid + '%').html(statistic.invalid + '%');\n                jQuery('#statistics .noresponse').attr('aria-valuenow', statistic.noresponse)\n                    .width(statistic.noresponse + '%').html(statistic.noresponse + '%');\n                jQuery('#statistics .partially').attr('aria-valuenow', statistic.partially)\n                    .width(statistic.partially + '%').html(statistic.partially + '%');\n            });\n        }, {once: true});\n        removeEventListener('pauseQuestion_' + jqid, () => {\n            Match.prototype.pauseQuestion();\n        }, false);\n        removeEventListener('playQuestion_' + jqid, () => {\n            Match.prototype.playQuestion();\n        }, false);\n        removeEventListener('showAnswers_' + jqid, () => {\n            Match.prototype.showAnswers();\n        }, false);\n        removeEventListener('hideAnswers_' + jqid, () => {\n            Match.prototype.hideAnswers();\n        }, false);\n        removeEventListener('showStatistics_' + jqid, () => {\n            Match.prototype.showStatistics();\n        }, false);\n        removeEventListener('hideStatistics_' + jqid, () => {\n            Match.prototype.hideStatistics();\n        }, false);\n        removeEventListener('showFeedback_' + jqid, () => {\n            Match.prototype.showFeedback();\n        }, false);\n        removeEventListener('hideFeedback_' + jqid, () => {\n            Match.prototype.hideFeedback();\n        }, false);\n        removeEventListener('removeEvents', () => {\n            Match.prototype.removeEvents();\n        }, {once: true});\n    }\n};\n\nMatch.prototype.createLinkCorrection = function() {\n    linkCorrection = [];\n    jQuery.each(jQuery(REGION.LEFT_OPTION_SELECTOR), function(index, item) {\n        let dragId = jQuery(item).data('stems') + '-draggable';\n        let steam = Match.prototype.baseConvert(jQuery(item).data('stems'), 2, 16);\n        let dropId = Match.prototype.baseConvert(steam, 10, 26) + '-dropzone';\n        linkCorrection.push({dragId: dragId, dropId: dropId});\n    });\n};\n\nMatch.prototype.getRandomColor = function(position) {\n    let colorArray = ['#FF6633', '#E64D66', '#FF33FF', '#FF9999', '#00B3E6',\n                      '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',\n                      '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A',\n                      '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',\n                      '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC',\n                      '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',\n                      '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680',\n                      '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',\n                      '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3',\n                      '#FFB399', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];\n    return colorArray[position];\n};\n\nMatch.prototype.drawResponse = function(fromTeacher = false) {\n    let corrects = 0;\n    let fails = 0;\n    linkList.forEach(userR => {\n        let optionLeft = jQuery('#' + userR.dragId).parents('.option-left').first();\n        let optionRight = jQuery('#' + userR.dropId).parents('.option-right').first();\n        if (userR.stemDragId === userR.stemDropId) { // CORRECT.\n            if (manualMode === false || jQuery('.modal-body').length || fromTeacher === true) {\n                userR.color = '#0fd08c';\n                optionLeft.find('.feedback-icon.correct').css({'display': 'flex'});\n                optionLeft.find('.content-option').removeClass('bg-primary').css({'background-color': '#0fd08c'});\n                optionRight.find('.content-option').removeClass('bg-primary').css({'background-color': '#0fd08c'});\n            }\n            corrects++;\n        } else { // INCORRECT.\n            if (manualMode === false || jQuery('.modal-body').length || fromTeacher === true) {\n                userR.color = '#f85455';\n                optionLeft.find('.feedback-icon.incorrect').css({'display': 'flex'});\n                optionLeft.find('.content-option').removeClass('bg-primary').css({'background-color': '#f85455'});\n                optionRight.find('.content-option').removeClass('bg-primary').css({'background-color': '#f85455'});\n            }\n            fails++;\n        }\n    });\n    Match.prototype.drawMobileResponse(fromTeacher);\n    return [corrects, fails];\n};\n\nMatch.prototype.hideResponse = function() {\n    let corrects = 0;\n    let fails = 0;\n    linkList.forEach(userR => {\n        let optionLeft = jQuery('#' + userR.dragId).parents('.option-left').first();\n        let optionRight = jQuery('#' + userR.dropId).parents('.option-right').first();\n        userR.color = Match.prototype.getRandomColor(linkList.indexOf(userR));\n        optionLeft.find('.feedback-icon').css({'display': 'none'});\n        optionLeft.find('.content-option').css({'background-color': 'inherit'}).addClass('bg-primary');\n        optionRight.find('.content-option').css({'background-color': 'inherit'}).addClass('bg-primary');\n    });\n    Match.prototype.hideMobileResponse();\n    return [corrects, fails];\n};\n\nMatch.prototype.showCorrects = function() {\n    linkCorrection.forEach(userR => {\n        userR.color = '#0fd08c';\n    });\n};\n\nMatch.prototype.sendResponse = function() {\n    Match.prototype.allDisabled();\n    Templates.render(TEMPLATES.LOADING, {visible: true}).done(function(html) {\n        jQuery(REGION.ROOT).append(html);\n        dispatchEvent(Match.prototype.endTimer);\n        Match.prototype.removeEvents();\n        let timeLeft = parseInt(jQuery(REGION.SECONDS).text());\n        let result = 3; // No response.\n        let [corrects, fails] = Match.prototype.drawResponse();\n        if (corrects !== 0) {\n            result = 2; // Partially.\n        }\n        if (jQuery(REGION.LEFT_OPTION_SELECTOR).length === corrects) {\n            result = 1; // Correct.\n        }\n        if (jQuery(REGION.LEFT_OPTION_SELECTOR).length === fails) {\n            result = 0; // Failure.\n        }\n        Match.prototype.drawLinks();\n\n        let request = {\n            methodname: SERVICES.REPLY,\n            args: {\n                jsonresponse: JSON.stringify(linkList),\n                result: result,\n                sessionid: sId,\n                jqshowid: jqshowId,\n                cmid: cmId,\n                questionid: questionid,\n                jqid: jqid,\n                timeleft: timeLeft || 0,\n                preview: false\n            }\n        };\n        Ajax.call([request])[0].done(function(response) {\n            if (response.reply_status === true) {\n                questionEnd = true;\n                jQuery(ACTION.SEND_RESPONSE).addClass('d-none');\n                jQuery(REGION.NEXT).removeClass('d-none');\n                dispatchEvent(Match.prototype.studentQuestionEnd);\n                if (response.hasfeedbacks) {\n                    jQuery(REGION.FEEDBACK).html(response.statment_feedback);\n                    jQuery(REGION.FEEDBACKANSWER).html(response.answer_feedback);\n                }\n                if (jQuery('.modal-body').length) { // Preview.\n                    Match.prototype.showAnswers();\n                    if (showQuestionFeedback === true) {\n                        Match.prototype.showFeedback();\n                    }\n                } else {\n                    if (manualMode === false) {\n                        Match.prototype.showAnswers();\n                        if (showQuestionFeedback === true) {\n                            Match.prototype.showFeedback();\n                        }\n                    }\n                }\n                jQuery(REGION.CONTAINER_ANSWERS).css('z-index', 3);\n                jQuery(REGION.CONTAINER_ANSWERS_MOBILE).css('z-index', 3);\n                jQuery(REGION.FEEDBACKBACGROUND).css('display', 'block');\n            } else {\n                alert('error');\n            }\n            jQuery(REGION.LOADING).remove();\n        });\n    });\n};\n\n/* Add event */\nMatch.prototype.addEventsDragAndDrop = function(el) {\n    el.addEventListener('dragstart', Match.prototype.onDragStart, false);\n    el.addEventListener('dragend', Match.prototype.onDragEnd, false);\n    el.addEventListener('touchstart', Match.prototype.touchStart, false);\n    el.addEventListener('touchmove', Match.prototype.touchMove, false);\n    el.addEventListener('touchend', Match.prototype.touchEnd, false);\n};\n\nMatch.prototype.removeEventsDragAndDrop = function(el) {\n    el.removeEventListener('dragstart', Match.prototype.onDragStart, false);\n    el.removeEventListener('dragend', Match.prototype.onDragEnd, false);\n    el.removeEventListener('touchstart', Match.prototype.touchStart, false);\n    el.removeEventListener('touchmove', Match.prototype.touchMove, false);\n    el.removeEventListener('touchend', Match.prototype.touchEnd, false);\n};\n\nMatch.prototype.addTargetEvents = function(target) {\n    target.addEventListener('dragover', Match.prototype.onDragOver, false);\n    target.addEventListener('drop', Match.prototype.onDrop, false);\n};\n\nMatch.prototype.removeTargetEvents = function(target) {\n    target.removeEventListener('dragover', Match.prototype.onDragOver, false);\n    target.removeEventListener('drop', Match.prototype.onDrop, false);\n};\n\n/* DRAG AND DROP */\nMatch.prototype.onDragStart = function(event) {\n    event.dataTransfer.setData('text/plain', event.target.id);\n    startPoint = event.target.id;\n    let options = document.querySelectorAll(REGION.LEFT_OPTION_SELECTOR);\n    color = Match.prototype.getRandomColor(Array.from(options).indexOf(event.currentTarget));\n};\n\nMatch.prototype.onDragOver = function(event) {\n    Match.prototype.clearPathTemp();\n    event.preventDefault();\n};\n\nMatch.prototype.onDragEnd = function(event) {\n    Match.prototype.clearPathTemp();\n    event.preventDefault();\n};\n\nMatch.prototype.onDrop = function(event) {\n    const dragId = event.dataTransfer.getData('text');\n    const dropId = jQuery(event.currentTarget).find(REGION.POINTER).attr('id');\n    Match.prototype.Drop(dragId, dropId);\n};\n\nMatch.prototype.Drop = function(dragId, dropId){\n    let deselected = linkList.filter(obj => {\n        return obj.dragId === dragId || obj.dropId === dropId;\n    });\n    if (deselected.length) {\n        deselected.forEach(x => {\n            let selectroDropId = jQuery(\"#\" + x.dropId);\n            selectroDropId.find(\"i\").css('font-weight', '400');\n            selectroDropId.find(\"i\").css('color', '#5a57ff');\n            selectroDropId.find(\"i\").removeClass('linked');\n            selectroDropId.find(\"i\").css('font-weight', '400');\n            selectroDropId.find(\"i\").css('color', '#5a57ff');\n        });\n    }\n\n    linkList = linkList.filter(obj => {\n        return obj.dragId !== dragId;\n    });\n    linkList = linkList.filter(obj => {\n        return obj.dropId !== dropId;\n    });\n\n    let stemsLeft = jQuery('#' + dragId).data('forstems');\n    let stemsRight = jQuery('#' + dropId).data('forstems');\n    let stemDragId = Match.prototype.baseConvert(stemsLeft, 2, 16);\n    let stemDropId = Match.prototype.baseConvert(stemsRight, 26, 10);\n\n    linkList.push({dragId, dropId, color, stemDragId, stemDropId, stemsLeft, stemsRight});\n    Match.prototype.drawLinks();\n    Match.prototype.drawSelects();\n    Match.prototype.clearPathTemp();\n};\n\nMatch.prototype.baseConvert = function(number, frombase, tobase) {\n    // eslint-disable-next-line no-bitwise\n    return parseInt(number + '', frombase | 0).toString(tobase | 0);\n};\n\n/* TOUCHE DEVICE */\nMatch.prototype.touchStart = function(e) {\n    if (e.target.id === undefined || e.target.id === '') {\n        if (jQuery(e.target).parent().attr('id') !== undefined) {\n            startPoint = jQuery(e.target).parent().attr('id');\n        } else {\n            startPoint = jQuery(e.target).closest('.option-left').find(\".drag-element\").first().attr('id');\n        }\n    }\n\n    let options = document.querySelectorAll(REGION.LEFT_OPTION_SELECTOR);\n    color = Match.prototype.getRandomColor(Array.from(options).indexOf(e.currentTarget));\n};\n\nMatch.prototype.touchMove = function(e) {\n    e.preventDefault();\n    let top = toucheY = e.touches[0].pageY,\n        left = toucheX = e.touches[0].pageX;\n    Match.prototype.drawLinkTemp(startPoint, {top, left});\n};\n\nMatch.prototype.touchEnd = function(e) {\n    jQuery(REGION.RIGHT_OPTION).find(REGION.OPTION).toArray().forEach(target => {\n        let box2 = target.getBoundingClientRect(),\n            x = box2.left,\n            y = box2.top,\n            h = target.offsetHeight,\n            w = target.offsetWidth,\n            b = y + h,\n            r = x + w;\n\n        if (toucheX > x && toucheX < r && toucheY > y && toucheY < b) {\n            let dropId;\n            if (target.id === undefined || target.id === '' || target.id === 'dropOption') {\n                if (jQuery(target).parent().attr('id') !== undefined && jQuery(target).parent().attr('id') !== 'dropOption') {\n                    dropId = jQuery(target).parent().attr('id');\n                } else {\n                    dropId = jQuery(target).closest('.option-right').find(\".drop-element\").first().attr('id');\n                }\n            } else {\n                dropId = target.id;\n            }\n            Match.prototype.Drop(startPoint, dropId);\n        } else {\n            return false;\n        }\n    });\n    Match.prototype.clearPathTemp();\n    e.preventDefault();\n};\n\n/* Draw final line */\nMatch.prototype.drawLinks = function() {\n    let canvas = jQuery(REGION.CANVAS).get(0);\n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    linkList.forEach(link => Match.prototype.drawLink(link.dragId, link.dropId, link.color));\n};\n\nMatch.prototype.drawCorrectLinks = function() {\n    let canvas = jQuery(REGION.CANVAS).get(0);\n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    linkCorrection.forEach(link => Match.prototype.drawLink(link.dragId, link.dropId, link.color));\n};\n\nMatch.prototype.drawLink = function(obj1, obj2, pColor) {\n    let canvas = jQuery(REGION.CANVAS).get(0);\n    let ctx = canvas.getContext('2d');\n\n    let $obj1 = jQuery(\"#\" + obj1);\n    let $obj2 = jQuery(\"#\" + obj2);\n    let parent = jQuery(REGION.CONTAINER_ANSWERS).offset();\n    let p1 = $obj1.offset();\n    let w1 = $obj1.width();\n    let h1 = $obj1.height();\n    let p2 = $obj2.offset();\n    let w2 = $obj2.width();\n    let h2 = $obj2.height();\n    let wc = jQuery(REGION.CANVAS).width();\n    ctx.beginPath();\n    ctx.strokeStyle = pColor ? pColor : color;\n    ctx.lineWidth = 3;\n    ctx.moveTo(0, p1.top - parent.top + (h1 / 2) - 20 - 2);\n    ctx.bezierCurveTo(wc / 2, p1.top - parent.top + (h1 / 2) - 20 - 2,\n        wc / 2, p2.top - parent.top + (h2 / 2) - 20 - 2,\n        wc - 4, p2.top - parent.top + (h2 / 2) - 20 - 2);\n    ctx.stroke();\n\n    $obj1.children().css('color', pColor ? pColor : color);\n    $obj1.children().css('font-weight', '900');\n    $obj2.children().css('color', pColor ? pColor : color);\n    $obj2.children().css('font-weight', '900');\n    $obj2.children().addClass('linked');\n};\n\nMatch.prototype.clearPath = function(event) {\n    let ident = event.currentTarget.id;\n    let oldStemsLeft = '';\n    let oldStemsRight = '';\n    linkList = linkList.filter(obj => {\n        if (obj.dropId === ident) {\n            oldStemsLeft = obj.stemsLeft;\n            oldStemsRight = obj.stemsRight;\n        }\n        return obj.dropId !== ident;\n    });\n    let dragQuestionObject = jQuery(REGION.CONTAINER_ANSWERS);\n    dragQuestionObject.find(\"i\").removeClass('linked');\n    dragQuestionObject.find(\"i\").css('font-weight', '400');\n    dragQuestionObject.find(\"i\").css('color', '#5a57ff');\n    Match.prototype.drawLinks();\n    if (oldStemsLeft !== '' && oldStemsRight !== '') {\n        Match.prototype.optionDeselected(oldStemsLeft, oldStemsRight);\n    }\n    Match.prototype.drawSelects();\n};\n\n/* Draw path mouse line */\nMatch.prototype.drawLinkTemp = function(obj1, coordPt) {\n    let canvas = jQuery(REGION.CANVASTEMP).get(0);\n    let ctx = canvas.getContext('2d');\n\n    let $obj1 = jQuery(\"#\" + obj1);\n    let parent = jQuery(REGION.CONTAINER_ANSWERS).offset();\n    let p1 = $obj1.offset();\n    let w1 = $obj1.width();\n    let h1 = $obj1.height();\n    let p2 = coordPt;\n    let c = jQuery(REGION.CANVASTEMP).offset();\n\n    ctx.beginPath();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = 3;\n    ctx.moveTo(0, p1.top - parent.top + (h1 / 2) - 20 - 2);\n\n    ctx.bezierCurveTo((p2.left - c.left) / 2, p1.top - parent.top - 19 - 2,\n        (p2.left - c.left) / 2,p2.top - parent.top - 19 - 2,\n        p2.left - c.left, p2.top - parent.top - 19 - 2);\n    Match.prototype.clearPathTemp();\n    ctx.stroke();\n};\n\nMatch.prototype.clearPathTemp = function() {\n    let canvas = jQuery(REGION.CANVASTEMP).get(0);\n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n};\n\n/* CLICKS */\nMatch.prototype.leftOptionSelected = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    jQuery.each(jQuery(REGION.LEFT_OPTION_CLICKABLE), function(index, item) {\n        if (e.target !== item) {\n            jQuery(item).parent().addClass('disabled');\n        } else {\n            jQuery(item).parents('.option').first().find('.option-pointer').addClass('disabled');\n        }\n    });\n    jQuery.each(jQuery(REGION.CLEARPATH), function(index, item) {\n        jQuery(item).addClass('disabled');\n    });\n    jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n        jQuery(item).css({'pointer-events': 'inherit'});\n    });\n    jQuery(REGION.RIGHT_OPTION_CLICKABLE).on('click touchend', Match.prototype.rightOptionSelected.bind(this));\n    let options = document.querySelectorAll(REGION.LEFT_OPTION_SELECTOR);\n    color = Match.prototype.getRandomColor(Array.from(options).indexOf(jQuery(e.target).parents('.option').first().get(0)));\n};\n\nMatch.prototype.rightOptionSelected = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let dragId = jQuery('.option-left:not(.disabled)').find('.drag-element').attr('id');\n    jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n        if (e.target === item) {\n            let dropId = jQuery(item).parents('.option-right').first().find('.drop-element').attr('id');\n            document.getElementById(dropId).click();\n            Match.prototype.Drop(dragId, dropId);\n            jQuery(dragId).removeClass('disabled');\n        }\n        jQuery('.option-left').removeClass('disabled');\n        jQuery('.drag-element').removeClass('disabled');\n        jQuery(REGION.RIGHT_OPTION_CLICKABLE).off('click touchend');\n        jQuery.each(jQuery(REGION.CLEARPATH), function(index, item) {\n            jQuery(item).removeClass('disabled');\n        });\n        jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n            jQuery(item).css({'pointer-events': 'none'});\n        });\n    });\n};\n\nMatch.prototype.allDisabled = function() {\n    jQuery.each(jQuery(REGION.LEFT_OPTION_CLICKABLE), function(index, item) {\n        jQuery(item).css({'pointer-events': 'none'});\n    });\n    jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n        jQuery(item).css({'pointer-events': 'none'});\n    });\n    jQuery.each(jQuery(REGION.POINTER), function(index, item) {\n        jQuery(item).css({'pointer-events': 'none'});\n    });\n    jQuery(REGION.CONTAINER_ANSWERS).unbind('dragover');\n    jQuery(ACTION.SELECTOPTION).unbind('change').css({'pointer-events': 'none'});\n    jQuery(REGION.LEFT_OPTION).find(REGION.OPTION).toArray().forEach(dragEl => this.removeEventsDragAndDrop(dragEl));\n    jQuery(REGION.RIGHT_OPTION).find(REGION.OPTION).toArray().forEach(dropEl => this.removeTargetEvents(dropEl));\n    jQuery(REGION.CLEARPATH).off('click touchend');\n    jQuery(REGION.LEFT_OPTION_CLICKABLE).off('click touchend');\n    jQuery(ACTION.SEND_RESPONSE).off('click');\n};\n\n/* MOBILE */\nMatch.prototype.OptionSelected = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let optionLeft = jQuery(e.target);\n    let optionRight = jQuery(e.target).find('option:selected');\n    let stemsLeft = optionLeft.attr('data-stems');\n    let stemsRight = optionRight.attr('data-stems');\n    if (stemsRight !== 'default') {\n        jQuery('#' + stemsLeft + '-left-clickable').trigger('click');\n        setTimeout(function() {\n            jQuery('#' + stemsRight + '-right-clickable').trigger('click');\n            optionLeft.css({'border': '1px solid ' + color});\n        }, 200);\n        Match.prototype.optionDeselected(stemsLeft, stemsRight);\n        Match.prototype.optionSelected(stemsLeft, stemsRight, color);\n    } else {\n        let dragId = stemsLeft + '-draggable';\n        let oldDropId = '';\n        let oldStemsRight = '';\n        linkList = linkList.filter(obj => {\n            if (obj.dragId === dragId) {\n                oldDropId = obj.dropId;\n                oldStemsRight = obj.stemsRight;\n            }\n            return obj.dragId !== dragId;\n        });\n        Match.prototype.optionDeselected(stemsLeft, oldStemsRight);\n        jQuery('#' + oldDropId).trigger('click');\n    }\n};\n\nMatch.prototype.optionSelected = function(stemsLeft, stemsRight, color) {\n    jQuery(ACTION.SELECTOPTION).each(function() {\n        jQuery(this).find('option[data-stems=\"' + stemsRight + '\"]')\n            .each(function() {\n                jQuery(this).css('background-color', color);\n        });\n    });\n};\n\nMatch.prototype.optionDeselected = function(stemsLeft, stemsRight) {\n    jQuery(ACTION.SELECTOPTION).each(function() {\n        if (parseInt(jQuery(this).attr('data-stems')) === parseInt(stemsLeft)) {\n            jQuery(this).css({'border': '1px solid #8f959e'});\n        }\n        if (jQuery(this).find('option[data-stems=\"' + stemsRight + '\"]:selected').length) {\n            jQuery(this).find('option[data-stems=\"default\"]').prop('selected', true);\n        }\n        jQuery(this).find('option[data-stems=\"' + stemsRight + '\"]').each(function() {\n            jQuery(this).css('background-color', 'white');\n        });\n    });\n};\n\nMatch.prototype.drawSelects = function() {\n    linkList.forEach(\n        select => Match.prototype.drawSelect(select.stemsLeft, select.stemsRight, select.color)\n    );\n};\n\nMatch.prototype.drawSelect = function(stemsLeft, stemsRight, color) {\n    jQuery('.content-options-right-mobile[data-stems=\"' + stemsLeft + '\"]').css({'border': '1px solid ' + color});\n    jQuery(\n        '.content-options-right-mobile[data-stems=\"' + stemsLeft + '\"]' +\n        ' .option-right-mobile[data-stems=\"' + stemsRight + '\"]').prop('selected', true);\n    Match.prototype.optionSelected(stemsLeft, stemsRight, color);\n};\n\nMatch.prototype.drawMobileResponse = function(fromTeacher = false) {\n    linkList.forEach(userR => {\n        let feedbacks = jQuery('.feedback-icons[data-stems=\"' + userR.stemsLeft + '\"]');\n        let optionLeft = jQuery('.content-options-right-mobile[data-stems=\"' + userR.stemsLeft + '\"]');\n        let optionRight = jQuery(\n            '.content-options-right-mobile[data-stems=\"' + userR.stemsLeft + '\"]' +\n            ' .option-right-mobile[data-stems=\"' + userR.stemsRight + '\"]');\n        if (manualMode === false || jQuery('.modal-body').length || fromTeacher === true) {\n            if (userR.stemDragId === userR.stemDropId) {\n                userR.color = '#0fd08c';\n                feedbacks.find('.feedback-icon.correct').css({'display': 'flex'});\n                optionLeft.css({'border': '1px solid #0fd08c'});\n                optionRight.css({'background-color': '#0fd08c'}).prop('selected', true);\n            } else {\n                userR.color = '#f85455';\n                feedbacks.find('.feedback-icon.incorrect').css({'display': 'flex'});\n                optionLeft.css({'border': '1px solid #f85455'});\n                optionRight.css({'background-color': '#f85455'}).prop('selected', true);\n            }\n        }\n    });\n};\n\nMatch.prototype.hideMobileResponse = function() {\n    linkList.forEach(userR => {\n        let feedbacks = jQuery('.feedback-icons[data-stems=\"' + userR.stemsLeft + '\"]');\n        let optionLeft = jQuery('.content-options-right-mobile[data-stems=\"' + userR.stemsLeft + '\"]');\n        let optionRight = jQuery(\n            '.content-options-right-mobile[data-stems=\"' + userR.stemsLeft + '\"]' +\n            ' .option-right-mobile[data-stems=\"' + userR.stemsRight + '\"]');\n        feedbacks.find('.feedback-icon').css({'display': 'none'});\n        optionLeft.css({'border': '1px solid' + userR.color});\n        optionRight.css({'background-color': userR.color});\n    });\n};\n\n/* EVENTS */\nMatch.prototype.pauseQuestion = function() {\n    dispatchEvent(new Event('pauseQuestion'));\n    jQuery(REGION.TIMER).css('z-index', 3);\n    jQuery(REGION.FEEDBACKBACGROUND).css('display', 'block');\n    jQuery(ACTION.REPLY).css('pointer-events', 'none');\n    jQuery.each(jQuery('.drag-element'), function(index, item) {\n        jQuery(item).css({'z-index': '0'});\n    });\n    jQuery.each(jQuery(REGION.LEFT_OPTION_CLICKABLE), function(index, item) {\n        jQuery(item).css({'pointer-events': 'none'});\n    });\n    jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n        jQuery(item).css({'pointer-events': 'none'});\n    });\n};\n\nMatch.prototype.playQuestion = function() {\n    if (questionEnd !== true) {\n        dispatchEvent(new Event('playQuestion'));\n        jQuery(REGION.TIMER).css('z-index', 1);\n        jQuery(REGION.FEEDBACKBACGROUND).css('display', 'none');\n        jQuery(ACTION.REPLY).css('pointer-events', 'auto');\n        jQuery.each(jQuery('.drag-element'), function(index, item) {\n            jQuery(item).css({'z-index': '2'});\n        });\n        jQuery.each(jQuery(REGION.LEFT_OPTION_CLICKABLE), function(index, item) {\n            jQuery(item).css({'pointer-events': 'inherit'});\n        });\n        jQuery.each(jQuery(REGION.RIGHT_OPTION_CLICKABLE), function(index, item) {\n            jQuery(item).css({'pointer-events': 'inherit'});\n        });\n    }\n};\n\nMatch.prototype.showAnswers = function() {\n    showingAnswers = true;\n    Match.prototype.drawResponse(true);\n    Match.prototype.drawLinks();\n};\n\nMatch.prototype.hideAnswers = function() {\n    showingAnswers = false;\n    Match.prototype.hideResponse();\n    Match.prototype.drawLinks();\n    if (showingFeedback) {\n        Match.prototype.showFeedback();\n    } else {\n        Match.prototype.hideFeedback();\n    }\n};\n\nMatch.prototype.showStatistics = function() {\n    if (questionEnd === true) {\n        jQuery('#statistics').css({'display': 'block', 'z-index': 3});\n    }\n};\n\nMatch.prototype.hideStatistics = function() {\n    if (questionEnd === true) {\n        jQuery('#statistics').css({'display': 'none', 'z-index': 0});\n    }\n};\n\nMatch.prototype.showFeedback = function() {\n    if (questionEnd === true) {\n        showingFeedback = true;\n        if (jQuery('.modal-body').length === 0 && manualMode === true) {\n            Match.prototype.hideResponse();\n            Match.prototype.showCorrects();\n            Match.prototype.drawCorrectLinks();\n        }\n        jQuery(REGION.CONTENTFEEDBACKS).css({'display': 'block', 'z-index': 3});\n    }\n};\n\nMatch.prototype.hideFeedback = function() {\n    if (questionEnd === true) {\n        showingFeedback = false;\n        jQuery(REGION.CONTENTFEEDBACKS).css({'display': 'none', 'z-index': 0});\n        if (showingAnswers) {\n            Match.prototype.drawResponse(true);\n            Match.prototype.drawLinks();\n        } else {\n            Match.prototype.hideResponse();\n            Match.prototype.drawLinks();\n        }\n    }\n};\n\n\nexport const initMatch = (selector, showquestionfeedback, manualmode, jsonresponse) => {\n    return new Match(selector, showquestionfeedback, manualmode, jsonresponse);\n};\n"],"names":["_interopRequireDefault","obj","__esModule","default","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","push","value","length","err","return","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","defineProperty","_exports","initMatch","_jquery","_ajax","_templates","_event","cmId","sId","questionid","jqshowId","jqid","startPoint","color","toucheX","toucheY","ACTION","SEND_RESPONSE","SELECTOPTION","REGION","SERVICES","TEMPLATES","questionEnd","showQuestionFeedback","manualMode","linkList","linkCorrection","showingAnswers","showingFeedback","Match","selector","_this","this","showquestionfeedback","arguments","undefined","manualmode","jsonresponse","node","jQuery","attr","createLinkCorrection","answered","JSON","parse","atob","showFeedback","showAnswers","setTimeout","endTimer","Event","studentQuestionEnd","allDisabled","drawResponse","addClass","css","removeClass","mEvent","notifyFilterContentUpdated","document","querySelector","_this2","normalizeCanvas","bind","top","window","event","pageY","left","pageX","drawLinkTemp","find","toArray","forEach","dragEl","addEventsDragAndDrop","dropEl","addTargetEvents","drawLinks","on","clearPath","leftOptionSelected","off","sendResponse","OptionSelected","drawSelects","initEvents","heightLeft","height","heightRight","canvasHeight","width","addEventListener","once","ev","data","detail","userid","padding","show","e","statistics","statistic","correct","html","failure","invalid","noresponse","partially","pauseQuestion","playQuestion","hideAnswers","showStatistics","hideStatistics","hideFeedback","removeEvents","onbeforeunload","removeEventListener","each","index","item","dragId","steam","baseConvert","dropId","getRandomColor","position","fromTeacher","corrects","fails","userR","optionLeft","parents","first","optionRight","stemDragId","stemDropId","display","drawMobileResponse","hideResponse","indexOf","hideMobileResponse","showCorrects","Templates","render","visible","append","dispatchEvent","timeLeft","parseInt","text","result","_Match$prototype$draw2","request","methodname","args","stringify","sessionid","jqshowid","cmid","timeleft","preview","Ajax","response","reply_status","hasfeedbacks","statment_feedback","answer_feedback","alert","remove","el","onDragStart","onDragEnd","touchStart","touchMove","touchEnd","removeEventsDragAndDrop","target","onDragOver","onDrop","removeTargetEvents","dataTransfer","setData","id","options","querySelectorAll","currentTarget","clearPathTemp","preventDefault","getData","Drop","deselected","filter","x","selectroDropId","stemsLeft","stemsRight","number","frombase","tobase","parent","closest","touches","box2","getBoundingClientRect","y","h","offsetHeight","w","offsetWidth","canvas","get","getContext","clearRect","link","drawLink","drawCorrectLinks","obj1","obj2","pColor","ctx","$obj1","$obj2","offset","p1","h1","p2","h2","wc","beginPath","strokeStyle","lineWidth","moveTo","bezierCurveTo","stroke","children","ident","oldStemsLeft","oldStemsRight","dragQuestionObject","optionDeselected","coordPt","c","stopPropagation","rightOptionSelected","getElementById","click","_this3","unbind","trigger","border","optionSelected","oldDropId","prop","select","drawSelect","feedbacks","REPLY"],"mappings":"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"}