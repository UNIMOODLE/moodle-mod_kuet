define("mod_jqshow/check_activesession",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.checkActiveSession=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);let cmId,jqshowId,SERVICES_GETACTIVESESSION="mod_jqshow_getactivesession";function CheckActiveSession(cmid,jqshowid){cmId=cmid,jqshowId=jqshowid,setInterval(this.checkActive,5e3)}CheckActiveSession.prototype.checkActive=function(){let request={methodname:SERVICES_GETACTIVESESSION,args:{cmid:cmId,jqshowid:jqshowId}};_ajax.default.call([request])[0].done((function(response){if(0!==response.active){let sessionUrl=new URL(M.cfg.wwwroot+"/mod/jqshow/session.php");sessionUrl.searchParams.set("cmid",cmId),sessionUrl.searchParams.set("sid",response.active),window.location.href=sessionUrl.href}})).fail(_notification.default.exception)};_exports.checkActiveSession=(cmid,jqshowid)=>new CheckActiveSession(cmid,jqshowid)}));

//# sourceMappingURL=check_activesession.min.js.map