{"version":3,"file":"teachercontrolpanel.min.js","sources":["../src/teachercontrolpanel.js"],"sourcesContent":["\"use strict\";\n/* eslint-disable no-unused-vars */\n\nimport jQuery from 'jquery';\n\nlet REGION = {\n    CONTROLPANEL: '[data-region=\"teacher_control_panel\"]', // This root.\n};\n\nlet ACTION = {\n    NEXT: '[data-action=\"next\"]',\n    PAUSE: '[data-action=\"pause\"]',\n    PLAY: '[data-action=\"play\"]',\n    RESEND: '[data-action=\"resend\"]',\n    JUMP: '[data-action=\"jump\"]',\n    FINISHQUESTION: '[data-action=\"finishquestion\"]',\n    SHOWHIDE_RESPONSES: '[data-action=\"showhide_responses\"]',\n    SHOWHIDE_STATISTICS: '[data-action=\"showhide_statistics\"]',\n    SHOWHIDE_FEEDBACK: '[data-action=\"showhide_feedback\"]',\n    IMPROVISE: '[data-action=\"improvise\"]',\n    VOTE: '[data-action=\"vote\"]',\n    ENDSESSION: '[data-action=\"endsession\"]'\n};\n\nTeacherControlPanel.prototype.root = null;\nTeacherControlPanel.prototype.jqid = null;\n\n/**\n * @constructor\n * @param {String} region\n * @param {int} jqid\n */\nfunction TeacherControlPanel(region, jqid) {\n    this.root = jQuery(region);\n    this.jqid = jqid;\n    this.initControlPanel();\n    finishquestionEvent = new Event('teacherQuestionEnd_' + this.jqid);\n}\n\nconst nextEvent = new Event('nextQuestion');\nconst pauseEvent = new Event('pauseQuestionSelf');\nconst playEvent = new Event('playQuestionSelf');\nconst resendEvent = new Event('resendSelf');\nconst jumpEvent = new Event('jumpTo');\nconst finishquestionEventSelf = new Event('teacherQuestionEndSelf');\nconst endSession = new Event('endSession');\nlet finishquestionEvent = null;\n\nTeacherControlPanel.prototype.initControlPanel = function() {\n    this.root.find(ACTION.NEXT).on('click', this.next);\n    this.root.find(ACTION.PAUSE).on('click', this.pause);\n    this.root.find(ACTION.PLAY).on('click', this.play);\n    this.root.find(ACTION.RESEND).on('click', this.resend);\n    this.root.find(ACTION.JUMP).on('click', this.jump);\n    this.root.find(ACTION.FINISHQUESTION).on('click', this.finishquestion);\n    this.root.find(ACTION.ENDSESSION).on('click', this.endsession);\n};\n\n// TODO prevent default and stop propagations.\n\nTeacherControlPanel.prototype.next = function() {\n    dispatchEvent(nextEvent);\n};\n\nTeacherControlPanel.prototype.pause = function(e) {\n    dispatchEvent(pauseEvent);\n    jQuery(ACTION.PAUSE).addClass('d-none');\n    jQuery(ACTION.PLAY).removeClass('d-none');\n};\n\nTeacherControlPanel.prototype.play = function(e) {\n    dispatchEvent(playEvent);\n    jQuery(ACTION.PAUSE).removeClass('d-none');\n    jQuery(ACTION.PLAY).addClass('d-none');\n};\n\nTeacherControlPanel.prototype.resend = function() {\n    dispatchEvent(resendEvent);\n};\n\nTeacherControlPanel.prototype.jump = function() {\n    dispatchEvent(jumpEvent);\n};\n\nTeacherControlPanel.prototype.finishquestion = function() {\n    dispatchEvent(finishquestionEventSelf);\n    dispatchEvent(finishquestionEvent);\n};\n\nTeacherControlPanel.prototype.endsession = function() {\n    dispatchEvent(endSession);\n};\n\nexport const teacherControlPanel = (region, jqid) => {\n    return new TeacherControlPanel(region, jqid);\n};\n"],"names":["obj","Object","defineProperty","_exports","value","teacherControlPanel","_jquery","__esModule","default","ACTION","TeacherControlPanel","region","jqid","this","root","jQuery","initControlPanel","finishquestionEvent","Event","prototype","nextEvent","pauseEvent","playEvent","resendEvent","jumpEvent","finishquestionEventSelf","endSession","find","on","next","pause","play","resend","jump","finishquestion","endsession","dispatchEvent","e","addClass","removeClass"],"mappings":"yFAG4B,IAAAA,IAHfC,OAAAC,eAAAC,SAAA,aAAA,CAAAC,OAAA,IAAAD,SAAAE,yBAAA,EAGbC,SAA4BN,IAA5BM,UAA4BN,IAAAO,WAAAP,IAAAQ,CAAAA,QAAAR,KAE5B,IAIIS,YACM,uBADNA,aAEO,wBAFPA,YAGM,uBAHNA,cAIQ,yBAJRA,YAKM,uBALNA,sBAMgB,iCANhBA,kBAYY,6BAWhB,SAASC,oBAAoBC,OAAQC,MACjCC,KAAKC,MAAO,EAAAC,QAAMP,SAACG,QACnBE,KAAKD,KAAOA,KACZC,KAAKG,mBACLC,oBAAsB,IAAIC,MAAM,sBAAwBL,KAAKD,KACjE,CAbAF,oBAAoBS,UAAUL,KAAO,KACrCJ,oBAAoBS,UAAUP,KAAO,KAcrC,IAAMQ,UAAY,IAAIF,MAAM,gBACtBG,WAAa,IAAIH,MAAM,qBACvBI,UAAY,IAAIJ,MAAM,oBACtBK,YAAc,IAAIL,MAAM,cACxBM,UAAY,IAAIN,MAAM,UACtBO,wBAA0B,IAAIP,MAAM,0BACpCQ,WAAa,IAAIR,MAAM,cACzBD,oBAAsB,KAE1BP,oBAAoBS,UAAUH,iBAAmB,WAC7CH,KAAKC,KAAKa,KAAKlB,aAAamB,GAAG,QAASf,KAAKgB,MAC7ChB,KAAKC,KAAKa,KAAKlB,cAAcmB,GAAG,QAASf,KAAKiB,OAC9CjB,KAAKC,KAAKa,KAAKlB,aAAamB,GAAG,QAASf,KAAKkB,MAC7ClB,KAAKC,KAAKa,KAAKlB,eAAemB,GAAG,QAASf,KAAKmB,QAC/CnB,KAAKC,KAAKa,KAAKlB,aAAamB,GAAG,QAASf,KAAKoB,MAC7CpB,KAAKC,KAAKa,KAAKlB,uBAAuBmB,GAAG,QAASf,KAAKqB,gBACvDrB,KAAKC,KAAKa,KAAKlB,mBAAmBmB,GAAG,QAASf,KAAKsB,aAKvDzB,oBAAoBS,UAAUU,KAAO,WACjCO,cAAchB,YAGlBV,oBAAoBS,UAAUW,MAAQ,SAASO,GAC3CD,cAAcf,aACd,EAAAN,QAAAA,SAAON,cAAc6B,SAAS,WAC9B,EAAAvB,QAAAA,SAAON,aAAa8B,YAAY,WAGpC7B,oBAAoBS,UAAUY,KAAO,SAASM,GAC1CD,cAAcd,YACd,EAAAP,QAAAA,SAAON,cAAc8B,YAAY,WACjC,EAAAxB,QAAAA,SAAON,aAAa6B,SAAS,WAGjC5B,oBAAoBS,UAAUa,OAAS,WACnCI,cAAcb,cAGlBb,oBAAoBS,UAAUc,KAAO,WACjCG,cAAcZ,YAGlBd,oBAAoBS,UAAUe,eAAiB,WAC3CE,cAAcX,yBACdW,cAAcnB,sBAGlBP,oBAAoBS,UAAUgB,WAAa,WACvCC,cAAcV,aAKhBvB,SAAAE,oBAFiC,SAACM,OAAQC,MACxC,OAAO,IAAIF,oBAAoBC,OAAQC,MACzC"}