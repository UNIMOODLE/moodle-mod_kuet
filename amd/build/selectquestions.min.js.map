{"version":3,"file":"selectquestions.min.js","sources":["../src/selectquestions.js"],"sourcesContent":["\"use strict\";\n/* eslint-disable no-unused-vars */ // TODO remove.\n\nimport jQuery from 'jquery';\n\nlet ACTION = {\n    COPYQUESTION: '[data-action=\"copy_question\"]',\n    DELETEQUESTION: '[data-action=\"delete_question\"]',\n    SELECTCATEGORY: '#id_movetocategory',\n    ADDQUESTIONS: '[data-action=\"add_questions\"]',\n    ADDQUESTION: '[data-action=\"add_question\"]',\n    SELECTTALL: '#selectall',\n};\n\nlet REGION = {\n    PANEL: '[data-region=\"questions-panel\"]',\n    NUMBERSELECT: '#number_select',\n    SELECTQUESTION: '.select_question',\n    CONTENTQUESTIONS: '[data-region=\"content-question\"]'\n};\n\nlet cmId;\nlet sId;\n\n/**\n * @constructor\n * @param {String} selector The selector for the page region containing the page.\n */\nfunction SelectQuestions(selector) {\n    this.node = jQuery(selector);\n    sId = this.node.attr('data-sid');\n    cmId = this.node.attr('data-cmid');\n    this.initPanel();\n}\n\n/** @type {jQuery} The jQuery node for the page region. */\nSelectQuestions.prototype.node = null;\n\nSelectQuestions.prototype.initPanel = function() {\n    this.node.find(ACTION.SELECTTALL).on('change', this.selectAll.bind(this));\n    this.node.find(ACTION.ADDQUESTIONS).on('click', this.addQuestions);\n    this.node.find(ACTION.ADDQUESTION).on('click', this.addQuestion);\n    this.node.find(REGION.SELECTQUESTION).on('change', this.selectQuestion.bind(this));\n};\n\nSelectQuestions.prototype.selectAll = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.node.find(REGION.SELECTQUESTION).prop('checked', jQuery(e.currentTarget).is(':checked'));\n    this.countCheckeds();\n};\n\nSelectQuestions.prototype.addQuestions = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    alert('addQuestions ');\n};\n\nSelectQuestions.prototype.addQuestion = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let questionId = jQuery(e.currentTarget).attr('data-questionnid');\n    alert('addQuestion ' + questionId);\n};\n\nSelectQuestions.prototype.selectQuestion = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.countCheckeds();\n};\n\nSelectQuestions.prototype.countCheckeds = function(e) {\n    // TODO change for datastorage, para poder contabilizar todos los marcados tras la paginaciÃ³n.\n    jQuery(REGION.NUMBERSELECT).html(jQuery(REGION.SELECTQUESTION + ':checked').length);\n};\n\nexport const initSelectQuestions = (selector) => {\n    return new SelectQuestions(selector);\n};\n"],"names":["obj","Object","defineProperty","_exports","value","initSelectQuestions","_jquery","__esModule","default","ACTION","REGION","SelectQuestions","selector","this","node","jQuery","attr","initPanel","prototype","find","on","selectAll","bind","addQuestions","addQuestion","selectQuestion","e","preventDefault","stopPropagation","prop","currentTarget","is","countCheckeds","alert","questionId","html","length"],"mappings":"qFAG4B,IAAAA,IAHfC,OAAAC,eAAAC,SAAA,aAAA,CAAAC,OAAA,IAAAD,SAAAE,yBAAA,EAGbC,SAA4BN,IAA5BM,UAA4BN,IAAAO,WAAAP,IAAAQ,CAAAA,QAAAR,KAE5B,IAAIS,oBAIc,gCAJdA,mBAKa,+BALbA,kBAMY,aAGZC,oBAEc,iBAFdA,sBAGgB,mBAWpB,SAASC,gBAAgBC,UACrBC,KAAKC,MAAO,EAAAC,QAAMP,SAACI,UACbC,KAAKC,KAAKE,KAAK,YACdH,KAAKC,KAAKE,KAAK,aACtBH,KAAKI,WACT,CAGAN,gBAAgBO,UAAUJ,KAAO,KAEjCH,gBAAgBO,UAAUD,UAAY,WAClCJ,KAAKC,KAAKK,KAAKV,mBAAmBW,GAAG,SAAUP,KAAKQ,UAAUC,KAAKT,OACnEA,KAAKC,KAAKK,KAAKV,qBAAqBW,GAAG,QAASP,KAAKU,cACrDV,KAAKC,KAAKK,KAAKV,oBAAoBW,GAAG,QAASP,KAAKW,aACpDX,KAAKC,KAAKK,KAAKT,uBAAuBU,GAAG,SAAUP,KAAKY,eAAeH,KAAKT,QAGhFF,gBAAgBO,UAAUG,UAAY,SAASK,GAC3CA,EAAEC,iBACFD,EAAEE,kBACFf,KAAKC,KAAKK,KAAKT,uBAAuBmB,KAAK,WAAW,EAAAd,QAAAA,SAAOW,EAAEI,eAAeC,GAAG,aACjFlB,KAAKmB,iBAGTrB,gBAAgBO,UAAUK,aAAe,SAASG,GAC9CA,EAAEC,iBACFD,EAAEE,kBACFK,MAAM,kBAGVtB,gBAAgBO,UAAUM,YAAc,SAASE,GAC7CA,EAAEC,iBACFD,EAAEE,kBACF,IAAIM,YAAa,EAAAnB,QAAAA,SAAOW,EAAEI,eAAed,KAAK,oBAC9CiB,MAAM,eAAiBC,aAG3BvB,gBAAgBO,UAAUO,eAAiB,SAASC,GAChDA,EAAEC,iBACFD,EAAEE,kBACFf,KAAKmB,iBAGTrB,gBAAgBO,UAAUc,cAAgB,SAASN,IAE/C,EAAAX,QAAAA,SAAOL,qBAAqByB,MAAK,EAAApB,iBAAOL,sBAAwB,YAAY0B,SAK9EjC,SAAAE,oBAFiC,SAACO,UAChC,OAAO,IAAID,gBAAgBC,UAC7B"}