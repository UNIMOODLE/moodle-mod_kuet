{"version":3,"file":"questiontimer.min.js","sources":["../src/questiontimer.js"],"sourcesContent":["\"use strict\";\r\n\r\nimport jQuery from 'jquery';\r\n\r\nlet REGION = {\r\n    PAGE: '[data-region=\"question-content\"]',\r\n    TIMER: '[data-region=\"question-timer\"]',\r\n    SECONDS: '[data-region=\"seconds\"]'\r\n};\r\n\r\n/**\r\n * @constructor\r\n * @param {String} selector\r\n */\r\nfunction QuestionTimer(selector) {\r\n    this.node = jQuery(selector);\r\n    this.initTimer();\r\n}\r\n\r\n/** @type {jQuery} The jQuery node for the page region. */\r\nQuestionTimer.prototype.node = null;\r\nQuestionTimer.prototype.timeValue = null;\r\nQuestionTimer.prototype.countDown = null;\r\nQuestionTimer.prototype.timeFinish = new Event('timeFinish');\r\n\r\nQuestionTimer.prototype.initTimer = function() {\r\n    this.timeValue = this.node.find(REGION.SECONDS).html();\r\n    this.countDown = setInterval(() => {\r\n        if (this.timeValue <= 0) {\r\n            this.node.find(REGION.SECONDS).html(this.timeValue);\r\n            clearInterval(this.countDown);\r\n            dispatchEvent(this.timeFinish);\r\n        } else {\r\n            this.node.find(REGION.SECONDS).html(this.timeValue);\r\n        }\r\n        this.timeValue -= 1;\r\n    }, 1000);\r\n    addEventListener('endTimer', () => {\r\n        clearInterval(this.countDown);\r\n    }, false);\r\n};\r\n\r\nexport const initQuestionTimer = (selector) => {\r\n    return new QuestionTimer(selector);\r\n};\r\n"],"names":["REGION","QuestionTimer","selector","node","initTimer","prototype","timeValue","countDown","timeFinish","Event","this","find","html","setInterval","clearInterval","dispatchEvent","addEventListener"],"mappings":"iPAIIA,eAGS,mCAOJC,cAAcC,eACdC,MAAO,mBAAOD,eACdE,YAITH,cAAcI,UAAUF,KAAO,KAC/BF,cAAcI,UAAUC,UAAY,KACpCL,cAAcI,UAAUE,UAAY,KACpCN,cAAcI,UAAUG,WAAa,IAAIC,MAAM,cAE/CR,cAAcI,UAAUD,UAAY,gBAC3BE,UAAYI,KAAKP,KAAKQ,KAAKX,gBAAgBY,YAC3CL,UAAYM,aAAY,KACrBH,KAAKJ,WAAa,QACbH,KAAKQ,KAAKX,gBAAgBY,KAAKF,KAAKJ,WACzCQ,cAAcJ,KAAKH,WACnBQ,cAAcL,KAAKF,kBAEdL,KAAKQ,KAAKX,gBAAgBY,KAAKF,KAAKJ,gBAExCA,WAAa,CAAlB,GACD,KACHU,iBAAiB,YAAY,KACzBF,cAAcJ,KAAKH,UAAnB,IACD,+BAG2BL,UACvB,IAAID,cAAcC"}