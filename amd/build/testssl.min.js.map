{"version":3,"file":"testssl.min.js","sources":["../src/testssl.js"],"sourcesContent":["define(['jquery'], function($) {\n    \"use strict\";\n\n    /**\n     * @constructor\n     * @param {String} region\n     */\n    function TestSockets(region) {\n        this.root = $(region);\n        this.initTestSockets();\n    }\n\n    /** @type {jQuery} The jQuery node for the page region. */\n    TestSockets.prototype.root = null;\n    TestSockets.prototype.webSocket = new WebSocket(\n        'wss://' + M.cfg.wwwroot.replace(/^https?:\\/\\//, '') + ':8080/jqshow'\n    );\n\n    let messageBox = null;\n\n    TestSockets.prototype.initTestSockets = function() {\n        messageBox = this.root.find('#testresult');\n    };\n\n    TestSockets.prototype.webSocket.onopen = function() {\n        messageBox.append('<h4 style=\"color:green\">Valid SSL Certificates</h4>');\n        let msg = {\n            'action': 'shutdownTest',\n        };\n        TestSockets.prototype.sendMessageSocket(JSON.stringify(msg));\n    };\n\n    TestSockets.prototype.webSocket.onerror = function() {\n        messageBox.append('<h4 style=\"color:red\">Invalid certificates</h4>');\n    };\n\n    TestSockets.prototype.webSocket.onclose = function() {\n        messageBox.append('<h5 style=\"color:orange\">Socket closed</h5>');\n    };\n\n    TestSockets.prototype.sendMessageSocket = function(msg) {\n        this.webSocket.send(msg);\n    };\n\n    return {\n        /**\n         * @param {String} region\n         * @return {TestSockets}\n         */\n        initTestSockets: function(region) {\n            return new TestSockets(region);\n        },\n    };\n\n});\n"],"names":["define","$","TestSockets","region","this","root","initTestSockets","prototype","webSocket","WebSocket","M","cfg","wwwroot","replace","messageBox","find","onopen","append","sendMessageSocket","JSON","stringify","action","onerror","onclose","msg","send"],"mappings":"AAAAA,4BAAO,CAAC,WAAW,SAASC,GAOxB,SAASC,YAAYC,QACjBC,KAAKC,KAAOJ,EAAEE,QACdC,KAAKE,iBACT,CAGAJ,YAAYK,UAAUF,KAAO,KAC7BH,YAAYK,UAAUC,UAAY,IAAIC,UAClC,SAAWC,EAAEC,IAAIC,QAAQC,QAAQ,eAAgB,IAAM,gBAG3D,IAAIC,WAAa,KA0BjB,OAxBAZ,YAAYK,UAAUD,gBAAkB,WACpCQ,WAAaV,KAAKC,KAAKU,KAAK,gBAGhCb,YAAYK,UAAUC,UAAUQ,OAAS,WACrCF,WAAWG,OAAO,uDAIlBf,YAAYK,UAAUW,kBAAkBC,KAAKC,UAHnC,CACNC,OAAU,mBAKlBnB,YAAYK,UAAUC,UAAUc,QAAU,WACtCR,WAAWG,OAAO,oDAGtBf,YAAYK,UAAUC,UAAUe,QAAU,WACtCT,WAAWG,OAAO,gDAGtBf,YAAYK,UAAUW,kBAAoB,SAASM,KAC/CpB,KAAKI,UAAUiB,KAAKD,MAGjB,CAKHlB,gBAAiB,SAASH,QACtB,OAAO,IAAID,YAAYC,OAC3B,EAGR"}